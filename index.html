<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>이 바지에 뭐입지?</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <canvas id="fxCanvas"></canvas>

  <div class="shell">
    <section class="hero">
      <h1>이 바지에 뭐입지?</h1>
      <div class="sub">하의 색을 고르면, 추천 상의(1~2개) + 비추(1~2개) + 대안(그닥)을 보여드립니다. 색을 클릭하면 왼쪽 상의가 바로 칠해집니다.</div>
    </section>

    <section class="grid">
      <!-- LEFT -->
      <section class="panel">
        <div class="panelHead">
          <div class="panelTitle">미리보기 (상의/하의)</div>
          <div class="meta">
            <span class="pill" id="statePill">하의 선택: 아직</span>
            <span class="pill" id="shirtPill">상의 선택: 아직</span>
            <span class="pill" id="fitPill">하의 핏: 아직</span>
            <span class="pill" id="topTypePill">상의 종류: 아직</span>
          </div>
        </div>

        <div class="outfitWrap">
          <div class="outfitCard">
            <div class="outfitTopRow">
              <div class="hint">
                1) 오른쪽에서 <b>하의 색</b>을 먼저 선택하세요.<br/>
                2) 추천/비추/그닥 색을 <b>클릭</b>하면 상의가 채워지고 멘트가 바뀝니다.
              </div>
              <button class="btn primary" id="btnBoom" type="button">생성하기 🎉</button>
            </div>

            <div class="outfitGrid">
              <div class="figure" aria-label="상의/하의 그림">
                <!-- 5:5 비율(상/하 높이 동일) -->
                <svg id="outfitSvg" width="360" height="320" viewBox="0 0 360 320" role="img" aria-label="상의와 하의">
                  <defs>
                    <filter id="softGlow" x="-40%" y="-40%" width="180%" height="180%">
                      <feGaussianBlur stdDeviation="5" result="blur"/>
                      <feMerge>
                        <feMergeNode in="blur"/>
                        <feMergeNode in="SourceGraphic"/>
                      </feMerge>
                    </filter>
                  </defs>

                  <!-- TOP -->
                  <g transform="translate(40,18)">
                    <path id="shirtFill"
                      d="M92 34
                         C105 12, 128 2, 156 2
                         C184 2, 207 12, 220 34
                         L250 48
                         L236 86
                         L215 78
                         L215 150
                         L97 150
                         L97 78
                         L76 86
                         L62 48
                         Z"
                      fill="transparent"
                      filter="url(#softGlow)"/>
                    <path
                      d="M92 34
                         C105 12, 128 2, 156 2
                         C184 2, 207 12, 220 34
                         L250 48
                         L236 86
                         L215 78
                         L215 150
                         L97 150
                         L97 78
                         L76 86
                         L62 48
                         Z"
                      fill="none"
                      stroke="rgba(15,23,42,.70)"
                      stroke-width="3"
                      stroke-linejoin="round"/>
                    <text x="156" y="176" text-anchor="middle" fill="rgba(15,23,42,.55)" font-size="14" font-weight="800">TOP</text>
                  </g>

                  <!-- PANTS -->
                  <g transform="translate(40,168)">
                    <path id="pantsFill"
                      d="M118 6
                         L194 6
                         L208 140
                         L170 140
                         L156 74
                         L142 140
                         L104 140
                         Z"
                      fill="transparent"
                      filter="url(#softGlow)"/>
                    <path
                      d="M118 6
                         L194 6
                         L208 140
                         L170 140
                         L156 74
                         L142 140
                         L104 140
                         Z"
                      fill="none"
                      stroke="rgba(15,23,42,.70)"
                      stroke-width="3"
                      stroke-linejoin="round"/>
                    <text x="156" y="170" text-anchor="middle" fill="rgba(15,23,42,.55)" font-size="14" font-weight="800">PANTS</text>
                  </g>
                </svg>
              </div>

              <div class="legend" aria-label="강추/괜찮음/그닥/비추 안내">
                <div class="legendItem">
                  <div class="legendTop">
                    <span class="badgeIcon">
                      <img class="iconImg" id="legendHeart" alt="하트 아이콘" />
                      <b>강추</b>
                    </span>
                  </div>
                  <div class="legendMsg">오늘 각이다</div>
                </div>

                <div class="legendItem">
                  <div class="legendTop">
                    <span class="badgeIcon">
                      <img class="iconImg" id="legendCircle" alt="동그라미 아이콘" />
                      <b>괜찮음</b>
                    </span>
                  </div>
                  <div class="legendMsg">낫 밷</div>
                </div>

                <div class="legendItem">
                  <div class="legendTop">
                    <span class="badgeIcon">
                      <img class="iconImg" id="legendTriangle" alt="세모 아이콘" />
                      <b>그닥</b>
                    </span>
                  </div>
                  <div class="legendMsg">상대방 반응 체크하자</div>
                </div>

                <div class="legendItem">
                  <div class="legendTop">
                    <span class="badgeIcon">
                      <img class="iconImg" id="legendX" alt="엑스 아이콘" />
                      <b>비추</b>
                    </span>
                  </div>
                  <div class="legendMsg">와 요즘은 콘돔이 이렇게도 나오네</div>
                </div>

                <div class="callout" id="statusCallout">
                  하의 색을 먼저 선택해 주세요. 선택하면 오른쪽에 추천/비추/그닥 색이 나타납니다.
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT -->
      <section class="panel" id="rightPanel">
        <div class="panelHead">
          <div class="panelTitle">컬러 선택</div>
          <div class="meta">
            <span>오른쪽에서 하의 → 추천/비추/그닥 색 클릭</span>
          </div>
        </div>

        <div class="choices">
          <!-- ✅ 시작 안내 배너(하의 선택 전만 표시) -->
          <div class="pantsPickBanner show" id="pantsPickBanner" role="note" aria-live="polite">
            <div class="left">
              <span class="dot" aria-hidden="true"></span>
              <div style="display:grid; gap:2px;">
                <b>먼저 하의 색부터 선택하세요</b>
                <span>하의를 고르면 추천 상의가 열립니다.</span>
              </div>
            </div>
            <button type="button" id="btnFocusPants">여기부터</button>
          </div>

          <div class="selectRow">
            <div class="panelTitle pantsTitle" id="pantsTitle" style="font-size:13px; opacity:.9;">1) 하의 색 (5가지)</div>
            <div class="pantsButtons attention" id="pantsButtons"></div>
          </div>

          <div class="selectRow">
            <div class="panelTitle" style="font-size:13px; opacity:.9;">1-2) 하의 핏</div>
            <div class="segButtons" id="bottomFitButtons"></div>
          </div>

          <div class="selectRow">
            <div class="panelTitle" style="font-size:13px; opacity:.9;">1-3) 상의 종류</div>
            <div class="segButtons" id="topTypeButtons"></div>
          </div>

          <div class="resultSection">
            <div class="resultHead">
              <strong>2) 추천 컬러 (1~2개)</strong>
              <span class="muted">클릭하면 상의에 적용</span>
            </div>
            <div class="chips" id="goodChips"></div>
          </div>

          <div class="resultSection">
            <div class="resultHead">
              <strong>3) 비추 컬러 (1~2개)</strong>
              <span class="muted">피하시면 편안합니다</span>
            </div>
            <div class="chips" id="badChips"></div>
          </div>

          <div class="resultSection">
            <div class="resultHead">
              <strong>4) 대안 (그닥)</strong>
              <span class="muted">대안 없으면…</span>
            </div>
            <div class="chips" id="mehChips"></div>
          </div>
        </div>
      </section>
    </section>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>
  <script src="main.js" defer></script>
</body>
</html>
